<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>520 - çˆ±ä½ çš„æ¯ä¸€å¤©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #ffcdd2, #f8bbd0, #e1bee7);
            height: 100vh;
            overflow-x: hidden;
            color: #333;
            position: relative;
        }
        
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        
        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle var(--duration) infinite ease-in-out;
            opacity: 0.7;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 0.3; }
        }
        
        .container {
            position: relative;
            width: 90%;
            max-width: 800px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
            overflow: hidden;
            z-index: 1;
            margin: 50px auto;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: #e91e63;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            animation: pulse 2s infinite;
        }
        
        p {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .love-letter {
            background-color: #fff5f7;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            position: relative;
            text-align: left;
        }
        
        .love-letter::before {
            content: '';
            position: absolute;
            top: -10px;
            right: 20px;
            width: 30px;
            height: 30px;
            background-color: #fff5f7;
            transform: rotate(45deg);
            z-index: -1;
        }
        
        .heart {
            position: absolute;
            width: 30px;
            height: 30px;
            background-color: #ff4081;
            transform: rotate(45deg);
            animation: float 4s ease-in-out infinite;
            opacity: 0.6;
        }
        
        .heart::before,
        .heart::after {
            content: '';
            position: absolute;
            width: 30px;
            height: 30px;
            background-color: #ff4081;
            border-radius: 50%;
        }
        
        .heart::before {
            top: -15px;
            left: 0;
        }
        
        .heart::after {
            top: 0;
            left: -15px;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 30px;
            background: linear-gradient(45deg, #ff4081, #e91e63);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(233, 30, 99, 0.3);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(233, 30, 99, 0.4);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .hidden {
            display: none;
        }
        
        .photo-gallery {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }
        
        .photo-frame {
            width: 150px;
            height: 150px;
            background-color: white;
            border-radius: 10px;
            padding: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transform: rotate(var(--rotation));
            transition: all 0.3s ease;
            overflow: hidden;
            position: relative;
        }
        
        .photo-frame:hover {
            transform: scale(1.05) rotate(0deg);
            z-index: 2;
            box-shadow: 0 8px 25px rgba(233, 30, 99, 0.3);
        }
        
        .photo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 5px;
            transition: all 0.3s ease;
        }
        
        .photo:hover {
            transform: scale(1.1);
        }
        
        /* æ·»åŠ ç…§ç‰‡æ ‡é¢˜æ ·å¼ */
        .photo-frame::after {
            content: attr(title);
            position: absolute;
            bottom: -50px;
            left: 0;
            width: 100%;
            padding: 8px;
            background-color: rgba(233, 30, 99, 0.8);
            color: white;
            font-size: 12px;
            text-align: center;
            transition: all 0.3s ease;
            opacity: 0;
        }
        
        .photo-frame:hover::after {
            bottom: 0;
            opacity: 1;
        }
        
        /* æ·»åŠ ç…§ç‰‡è¾¹æ¡†è£…é¥° */
        .photo-frame::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border: 2px solid transparent;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .photo-frame:hover::before {
            border-color: #ff4081;
            transform: scale(0.95);
        }
        
        .photo-placeholder {
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #ffecb3, #ffcc80);
            border-radius: 5px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #e91e63;
            font-weight: bold;
        }
        
        .timeline {
            margin-top: 40px;
            position: relative;
            padding-left: 30px;
            text-align: left;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(to bottom, #ff4081, #e91e63);
            border-radius: 2px;
        }
        
        .timeline-item {
            margin-bottom: 25px;
            position: relative;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -34px;
            top: 5px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #ff4081;
            border: 3px solid white;
            box-shadow: 0 0 10px rgba(233, 30, 99, 0.5);
        }
        
        .date {
            font-weight: bold;
            color: #e91e63;
            margin-bottom: 5px;
        }
        
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: var(--color);
            top: -10px;
            animation: fall var(--fall-duration) var(--fall-delay) linear forwards;
        }
        
        .poem {
            font-style: italic;
            color: #9c27b0;
            margin: 20px 0;
            line-height: 1.8;
        }
        
        .music-player {
            margin: 20px 0;
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
        }
        
        .countdown {
            margin: 20px 0;
            font-size: 1.5rem;
            color: #e91e63;
            font-weight: bold;
        }
        
        .memory-box {
            background-color: #fff;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .memory-title {
            color: #e91e63;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }
        
        .flower {
            position: absolute;
            width: 30px;
            height: 30px;
            background-size: contain;
            background-repeat: no-repeat;
            animation: float 5s ease-in-out infinite;
            z-index: 0;
            opacity: 0.7;
        }
        
        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
            }
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) rotate(5deg);
            }
        }
        
        @keyframes fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        .love-quotes {
            position: relative;
            height: 100px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .quote {
            position: absolute;
            width: 100%;
            text-align: center;
            opacity: 0;
            transform: translateY(20px);
            transition: all 1s ease;
        }
        
        .quote.active {
            opacity: 1;
            transform: translateY(0);
        }
        
        .heart-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
                width: 95%;
                margin: 20px auto;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            p {
                font-size: 1rem;
            }
            
            .photo-frame {
                width: 120px;
                height: 120px;
            }
        }
        /* æ¼‚æµ®å¿ƒå½¢åŠ¨ç”»æ ·å¼ */
        .floating-heart-container {
            position: relative;
            width: 100%;
            height: 400px;
            background-color: #000;
            border-radius: 15px;
            overflow: hidden;
            margin: 30px 0;
        }
        
        .big-heart {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 150px;
            height: 150px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .big-heart::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: rgba(233, 30, 99, 0.5);
            border-radius: 50%;
            box-shadow: 0 0 40px rgba(233, 30, 99, 0.8);
            animation: pulse-heart 2s infinite;
        }
        
        .heart-center {
            position: relative;
            color: #fff;
            font-size: 1.2rem;
            text-align: center;
            z-index: 2;
            text-shadow: 0 0 10px rgba(233, 30, 99, 0.8);
        }
        
        .floating-text {
            position: absolute;
            color: #e91e63;
            font-size: 0.9rem;
            white-space: nowrap;
            animation: float-around linear infinite;
            text-shadow: 0 0 5px rgba(233, 30, 99, 0.5);
        }
        
        @keyframes pulse-heart {
            0% {
                transform: scale(1);
                opacity: 0.5;
            }
            50% {
                transform: scale(1.2);
                opacity: 0.8;
            }
            100% {
                transform: scale(1);
                opacity: 0.5;
            }
        }
        
        @keyframes float-around {
            0% {
                transform: translate(0, 0) rotate(0deg);
            }
            100% {
                transform: translate(var(--translateX), var(--translateY)) rotate(var(--rotate));
            }
        }
    </style>
</head>
<body>
    <div class="stars"></div>
    <div class="heart-animation"></div>
    
    <div class="container">
        <h1>520 æˆ‘çˆ±ä½ ï¼Œæˆ‘çš„é›ªç›ˆå®è´</h1>
        
        <div class="countdown" id="loveCountdown">
            æˆ‘ä»¬å·²ç»ç›¸çˆ±äº† <span id="days">0</span> å¤© <span id="hours">0</span> å°æ—¶ <span id="minutes">0</span> åˆ†é’Ÿ <span id="seconds">0</span> ç§’
        </div>
        
        <div class="love-letter">
            <p>äº²çˆ±çš„å®è´ï¼Œ</p>
            <p>å½“ä½ çœ‹åˆ°è¿™å°ä¿¡çš„æ—¶å€™ï¼Œæˆ‘æƒ³è®©ä½ çŸ¥é“ï¼Œä½ æ˜¯æˆ‘ç”Ÿå‘½ä¸­æœ€ç¾å¥½çš„å­˜åœ¨ã€‚</p>
            <p>é‡è§ä½ æ˜¯æˆ‘æ‰€ç»å†çš„æœ€å¹¸è¿çš„äº‹æƒ…ï¼Œä½ çš„ç¬‘å®¹å¦‚é˜³å…‰èˆ¬æ¸©æš–ï¼Œä½ çš„å£°éŸ³å¦‚æ¸…æ³‰èˆ¬æ‚¦è€³ï¼Œä½ çš„ä¸€åˆ‡éƒ½è®©æˆ‘æ·±æ·±ç€è¿·ã€‚</p>
            <p>æ¯ä¸€ä¸ªæœ‰ä½ çš„æ—¥å­éƒ½æ˜¯å¦‚æ­¤ç¾å¥½ï¼Œå³ä½¿å¹³å‡¡çš„æ—¥å¸¸ï¼Œå› ä¸ºæœ‰ä½ çš„é™ªä¼´ï¼Œä¹Ÿå˜å¾—æ— æ¯”çè´µã€‚</p>
            <p>æˆ‘çˆ±ä½ çš„å–„è‰¯ï¼Œçˆ±ä½ çš„èªæ˜ï¼Œçˆ±ä½ çš„åšå¼ºï¼Œä¹Ÿçˆ±ä½ å¶å°”çš„å°è„¾æ°”ã€‚æˆ‘çˆ±ä½ çš„å…¨éƒ¨ï¼ŒåŒ…æ‹¬é‚£äº›ä½ è‡ªå·±éƒ½ä¸å–œæ¬¢çš„éƒ¨åˆ†ã€‚</p>
            <p>åœ¨è¿™ä¸ªç‰¹åˆ«çš„æ—¥å­ï¼Œæˆ‘æƒ³å¯¹ä½ è¯´ï¼šæˆ‘çˆ±ä½ ï¼Œä¸åªæ˜¯ä»Šå¤©ï¼Œè€Œæ˜¯æ¯ä¸€å¤©ã€‚</p>
            <p style="text-align: right; font-style: italic; margin-top: 15px;">æ°¸è¿œçˆ±ä½ çš„äºº --å®</p>
        </div>
        
        <div class="poem">
            <p>å¦‚æœå¯ä»¥å’Œä½ ä¸€èµ·</p>
            <p>æˆ‘æ„¿æ„èµ°è¿‡å››å­£æ˜¥å¤ç§‹å†¬</p>
            <p>çœ‹éä¸–é—´ä¸‡ç‰©</p>
            <p>åªä¸ºå¯»æ‰¾ä½ çœ¼ä¸­çš„æ˜Ÿè¾°</p>
            <p>æˆ‘çš„å¿ƒï¼Œæ—©å·²åˆ»ä¸Šä½ çš„åå­—</p>
        </div>
        
        <div class="love-quotes">
            <div class="quote active">äººé—´çºµæœ‰ç™¾åªšåƒçº¢ï¼Œå”¯ç‹¬ä½ æ˜¯æƒ…ä¹‹æ‰€é’Ÿã€‚</div>
            <div class="quote">æ˜¥é£åé‡Œï¼Œä¸åŠç›¸é‡æœ‰ä½ ï¼›æ™´ç©ºä¸‡é‡Œï¼Œä¸ä»…ä¸­æœ‰ä½ æˆ‘ã€‚</div>
            <div class="quote">ä½ æ„¿ä¸æ„¿æ„é™ªæˆ‘èµ°ä¸€æ¡å¾ˆé•¿çš„è·¯ï¼Œé‚£æ¡è·¯å«ä½™ç”Ÿã€‚</div>
            <div class="quote">ç»™ä¸äº†ä½ å…¨ä¸–ç•Œï¼Œä½†æˆ‘çš„ä¸–ç•Œå¯ä»¥å…¨éƒ¨ç»™ä½ ã€‚</div>
            <div class="quote">æˆ‘ä»¬çš„æ•…äº‹ï¼Œæ²¡æ³•é•¿è¯çŸ­è¯´ï¼Œå°±åƒçˆ±ä½ è¿™ä»¶äº‹ï¼Œæˆ‘ä»æœªæ€ æ…¢ã€‚</div>
        </div>
        
        <button class="btn" id="showMemories">ç‚¹å‡»æŸ¥çœ‹æˆ‘ä»¬çš„ç¾å¥½å›å¿†</button>
        
        <div class="memories hidden" id="memories">
            <h2 style="margin-top: 30px; color: #e91e63;">æˆ‘ä»¬çš„ç¾å¥½æ—¶å…‰</h2>
            
            <div class="memory-box">
                <div class="memory-title">æˆ‘æœ€å–œæ¬¢ä½ çš„ç¬é—´</div>
                <p>å½“ä½ æŒ½ç€æˆ‘çš„æ‰‹è‡‚çš„æ—¶å€™ï¼ŒæŒ‡å°–çš„æ¸©åº¦åƒæ˜¥é£æ‹‚è¿‡æ¹–é¢ï¼Œè¡èµ·ä¸€åœˆåœˆæ¸©æŸ”çš„æ¶Ÿæ¼ªï¼›</p>
                <p>å½“ä½ çœ‹åˆ°å–œæ¬¢çš„ä¸œè¥¿æ—¶ï¼Œçœ¼ç›é‡Œé—ªçƒç€å…‰èŠ’ï¼Œåƒæ˜¯è£…æ»¡äº†æ•´ä¸ªæ˜Ÿç©ºï¼›</p>
                <p>å½“ä½ é åœ¨æˆ‘è‚©è†€ç¡ç€çš„æ—¶å€™ï¼Œå‘¼å¸å‡åŒ€ï¼Œå®‰é™è€Œç¾å¥½ï¼›</p>
                <p>å½“ä½ å¯¹æˆ‘æ’’å¨‡çš„æ—¶å€™ï¼Œå£°éŸ³è½¯è½¯çš„ï¼Œè®©æˆ‘çš„å¿ƒéƒ½è¦èåŒ–äº†ã€‚</p>
            </div>
            
            <div class="photo-gallery">
                <div class="photo-frame" style="--rotation: -5deg;">
                    <img src="images\IMG_20250520_034533_edit_340723133841481.jpg" alt="æˆ‘ä»¬çš„ç¬¬ä¸€å¼ åˆç…§" title="æˆ‘ä»¬çš„ç¬¬ä¸€å¼ åˆç…§" class="photo">
                </div>
                <div class="photo-frame" style="--rotation: 3deg;">
                    <img src="images\IMG_20250514_175546.jpg" alt="ç¬¬ä¸€æ¬¡åƒæ¼‚äº®é¥­" title="ç¬¬ä¸€æ¬¡åƒæ¼‚äº®é¥­" class="photo">
                </div>
                <div class="photo-frame" style="--rotation: -2deg;">
                    <img src="images\mmexport1743837114584.jpg" alt="å®å®çš„å©šçº±" title="å®å®çš„å©šçº±" class="photo">
                </div>
                <div class="photo-frame" style="--rotation: 4deg;">
                    <img src="images\mmexport1744214194287.jpg" alt="å®å®çš„ç”Ÿæ—¥" title="å®å®çš„ç”Ÿæ—¥" class="photo">
                </div>
            </div>
            
            <div class="memory-box">
                <div class="memory-title">æˆ‘æƒ³å’Œä½ ä¸€èµ·</div>
                <p>çœ‹éä¸–ç•Œæ¯ä¸€ä¸ªè§’è½çš„ç¾æ™¯</p>
                <p>å°éå„åœ°çš„ç¾é£Ÿ</p>
                <p>åœ¨æµ·è¾¹çœ‹æ—¥å‡ºæ—¥è½</p>
                <p>åœ¨è‰åŸä¸Šæ•°æ˜Ÿæ˜Ÿ</p>
                <p>åœ¨é›¨ä¸­æ¼«æ­¥</p>
                <p>åœ¨é›ªåœ°é‡Œç•™ä¸‹æˆ‘ä»¬çš„è¶³è¿¹</p>
                <p>åœ¨å¹³å‡¡çš„æ—¥å­é‡Œï¼Œç‰µç€ä½ çš„æ‰‹ï¼Œæ…¢æ…¢å˜è€</p>
            </div>
            
            <div class="heart-animation-container" style="position: relative; width: 100%; height: 400px; background-color: #000; border-radius: 15px; overflow: hidden; margin: 30px 0;">
                <div id="child" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 100;">
                    <h4 style="font-family: 'STKaiti'; font-size: 40px; color: #f584b7; text-align: center; margin: 0;">ğŸ’—é›ªç›ˆå®è´ğŸ’—</h4>
                </div>
                <canvas id="heart" width="800" height="400"></canvas>
                <script>
                    // å¿ƒå½¢åŠ¨ç”»è„šæœ¬
                    (function() {
                        window.requestAnimationFrame =
                            window.__requestAnimationFrame ||
                            window.requestAnimationFrame ||
                            window.webkitRequestAnimationFrame ||
                            window.mozRequestAnimationFrame ||
                            window.oRequestAnimationFrame ||
                            window.msRequestAnimationFrame ||
                            (function () {
                                return function (callback, element) {
                                    var lastTime = element.__lastTime;
                                    if (lastTime === undefined) {
                                        lastTime = 0;
                                    }
                                    var currTime = Date.now();
                                    var timeToCall = Math.max(1, 33 - (currTime - lastTime));
                                    window.setTimeout(callback, timeToCall);
                                    element.__lastTime = currTime + timeToCall;
                                };
                            })();
                        window.isDevice = (/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(((navigator.userAgent || navigator.vendor || window.opera)).toLowerCase()));
                        var loaded = false;
                        
                        var init = function () {
                            if (loaded) return;
                            loaded = true;
                            var mobile = window.isDevice;
                            var koef = mobile ? 0.5 : 1;
                            var canvas = document.getElementById('heart');
                            var ctx = canvas.getContext('2d');
                            var width = canvas.width = koef * canvas.parentNode.offsetWidth;
                            var height = canvas.height = 400;
                            var rand = Math.random;
                            ctx.fillStyle = "rgba(0,0,0,1)";
                            ctx.fillRect(0, 0, width, height);

                            var heartPosition = function (rad) {
                                return [Math.pow(Math.sin(rad), 3), -(15 * Math.cos(rad) - 5 * Math.cos(2 * rad) - 2 * Math.cos(3 * rad) - Math.cos(4 * rad))];
                            };
                            var scaleAndTranslate = function (pos, sx, sy, dx, dy) {
                                return [dx + pos[0] * sx, dy + pos[1] * sy];
                            };

                            window.addEventListener('resize', function () {
                                width = canvas.width = koef * canvas.parentNode.offsetWidth;
                                height = canvas.height = 400;
                                ctx.fillStyle = "rgba(0,0,0,1)";
                                ctx.fillRect(0, 0, width, height);
                            });

                            var traceCount = mobile ? 20 : 50;
                            var pointsOrigin = [];
                            var i;
                            var dr = mobile ? 0.3 : 0.1;
                            for (i = 0; i < Math.PI * 2; i += dr) pointsOrigin.push(scaleAndTranslate(heartPosition(i), 210, 13, 0, 0));
                            for (i = 0; i < Math.PI * 2; i += dr) pointsOrigin.push(scaleAndTranslate(heartPosition(i), 150, 9, 0, 0));
                            for (i = 0; i < Math.PI * 2; i += dr) pointsOrigin.push(scaleAndTranslate(heartPosition(i), 90, 5, 0, 0));
                            var heartPointsCount = pointsOrigin.length;

                            var targetPoints = [];
                            var pulse = function (kx, ky) {
                                for (i = 0; i < pointsOrigin.length; i++) {
                                    targetPoints[i] = [];
                                    targetPoints[i][0] = kx * pointsOrigin[i][0] + width / 2;
                                    targetPoints[i][1] = ky * pointsOrigin[i][1] + height / 2;
                                }
                            };

                            var e = [];
                            for (i = 0; i < heartPointsCount; i++) {
                                var x = rand() * width;
                                var y = rand() * height;
                                e[i] = {
                                    vx: 0,
                                    vy: 0,
                                    R: 2,
                                    speed: rand() + 5,
                                    q: ~~(rand() * heartPointsCount),
                                    D: 2 * (i % 2) - 1,
                                    force: 0.2 * rand() + 0.7,
                                    f: "hsla(0," + ~~(40 * rand() + 60) + "%," + ~~(60 * rand() + 20) + "%,.3)",
                                    trace: []
                                };
                                for (var k = 0; k < traceCount; k++) e[i].trace[k] = {x: x, y: y};
                            }

                            var config = {
                                traceK: 0.4,
                                timeDelta: 0.01
                            };

                            var time = 0;
                            var loop = function () {
                                var n = -Math.cos(time);
                                pulse((1 + n) * .5, (1 + n) * .5);
                                time += ((Math.sin(time)) < 0 ? 9 : (n > 0.8) ? .2 : 1) * config.timeDelta;
                                ctx.fillStyle = "rgba(0,0,0,.1)";
                                ctx.fillRect(0, 0, width, height);
                                for (i = e.length; i--;) {
                                    var u = e[i];
                                    var q = targetPoints[u.q];
                                    var dx = u.trace[0].x - q[0];
                                    var dy = u.trace[0].y - q[1];
                                    var length = Math.sqrt(dx * dx + dy * dy);
                                    if (10 > length) {
                                        if (0.95 < rand()) {
                                            u.q = ~~(rand() * heartPointsCount);
                                        } else {
                                            if (0.99 < rand()) {
                                                u.D *= -1;
                                            }
                                            u.q += u.D;
                                            u.q %= heartPointsCount;
                                            if (0 > u.q) {
                                                u.q += heartPointsCount;
                                            }
                                        }
                                    }
                                    u.vx += -dx / length * u.speed;
                                    u.vy += -dy / length * u.speed;
                                    u.trace[0].x += u.vx;
                                    u.trace[0].y += u.vy;
                                    u.vx *= u.force;
                                    u.vy *= u.force;
                                    for (k = 0; k < u.trace.length - 1;) {
                                        var T = u.trace[k];
                                        var N = u.trace[++k];
                                        N.x -= config.traceK * (N.x - T.x);
                                        N.y -= config.traceK * (N.y - T.y);
                                    }
                                    ctx.fillStyle = u.f;
                                    for (k = 0; k < u.trace.length; k++) {
                                        ctx.fillRect(u.trace[k].x, u.trace[k].y, 1, 1);
                                    }
                                }
                                ctx.fillStyle = "rgba(255,255,255,1)";
                                for (i = u.trace.length + 13; i--;) ctx.fillRect(targetPoints[i][0], targetPoints[i][1], 2, 2);

                                window.requestAnimationFrame(loop, canvas);
                            };
                            loop();
                            
                            // æ·»åŠ æ¼‚æµ®çš„æ–‡å­—
                            function addFloatingText() {
                                var container = document.querySelector('.heart-animation-container');
                                var texts = ['â¤ é›ªç›ˆå®è´ â¤', 'â¤ é›ªç›ˆå®è´ â¤', 'â¤ é›ªç›ˆå®è´ â¤', 'â¤ é›ªç›ˆå®è´ â¤', 
                                           'â¤ é›ªç›ˆå®è´ â¤', 'â¤ é›ªç›ˆå®è´ â¤', 'â¤ é›ªç›ˆå®è´ â¤', 'â¤ é›ªç›ˆå®è´ â¤',
                                           'â¤ é›ªç›ˆå®è´ â¤', 'â¤ é›ªç›ˆå®è´ â¤', 'â¤ é›ªç›ˆå®è´ â¤', 'â¤ é›ªç›ˆå®è´ â¤'];
                                
                                for (var i = 0; i < 20; i++) {
                                    var floatingText = document.createElement('div');
                                    floatingText.style.position = 'absolute';
                                    floatingText.style.color = '#e91e63';
                                    floatingText.style.fontSize = '0.9rem';
                                    floatingText.style.whiteSpace = 'nowrap';
                                    floatingText.style.textShadow = '0 0 5px rgba(233, 30, 99, 0.5)';
                                    floatingText.style.zIndex = '1';
                                    floatingText.textContent = texts[i % texts.length];
                                    
                                    var startX = Math.random() * 100;
                                    var startY = Math.random() * 100;
                                    
                                    floatingText.style.left = startX + '%';
                                    floatingText.style.top = startY + '%';
                                    
                                    var animDuration = Math.random() * 15 + 10;
                                    floatingText.style.animation = 'float-text ' + animDuration + 's linear infinite';
                                    
                                    container.appendChild(floatingText);
                                }
                            }
                            
                            // æ·»åŠ æµ®åŠ¨æ–‡å­—åŠ¨ç”»æ ·å¼
                            var style = document.createElement('style');
                            style.textContent = `
                                @keyframes float-text {
                                    0% { transform: translate(0, 0) rotate(0deg); }
                                    25% { transform: translate(10px, -15px) rotate(10deg); }
                                    50% { transform: translate(20px, 0px) rotate(0deg); }
                                    75% { transform: translate(10px, 15px) rotate(-10deg); }
                                    100% { transform: translate(0, 0) rotate(0deg); }
                                }
                            `;
                            document.head.appendChild(style);
                            
                            // æ·»åŠ æ¼‚æµ®æ–‡å­—
                            addFloatingText();
                        };

                        var s = document.readyState;
                        if (s === 'complete' || s === 'loaded' || s === 'interactive') init();
                        else document.addEventListener('DOMContentLoaded', init, false);
                    })();
                </script>
            </div>
            
            <div class="memory-box">
                <div class="memory-title">æˆ‘å¯¹ä½ çš„æ‰¿è¯º</div>
                <p>æˆ‘æ‰¿è¯ºä¼šä¸€ç›´çˆ±ä½ ï¼Œå³ä½¿å²æœˆæ”¹å˜äº†æˆ‘ä»¬çš„å®¹é¢œ</p>
                <p>æˆ‘æ‰¿è¯ºä¼šä¸€ç›´å°Šé‡ä½ ï¼Œå€¾å¬ä½ çš„æƒ³æ³•å’Œæ„Ÿå—</p>
                <p>æˆ‘æ‰¿è¯ºä¼šä¸€ç›´æ”¯æŒä½ ï¼Œæ— è®ºä½ æƒ³åšä»€ä¹ˆ</p>
                <p>æˆ‘æ‰¿è¯ºä¼šä¸€ç›´ä¿æŠ¤ä½ ï¼Œä¸è®©ä½ å—åˆ°ä¼¤å®³</p>
                <p>æˆ‘æ‰¿è¯ºä¼šä¸€ç›´é™ªä¼´ä½ ï¼Œæ— è®ºæ˜¯å¼€å¿ƒè¿˜æ˜¯éš¾è¿‡çš„æ—¶åˆ»</p>
                <p>æˆ‘æ‰¿è¯ºä¼šåŠªåŠ›æˆä¸ºæ›´å¥½çš„è‡ªå·±ï¼Œé…å¾—ä¸Šä½ çš„çˆ±</p>
                <p>æˆ‘æ‰¿è¯ºä¼šå’Œä½ ä¸€èµ·åˆ›é€ ç¾å¥½çš„å›å¿†ï¼Œç›´åˆ°æ°¸è¿œ</p>
            </div>
            
            <button class="btn" id="surprise" style="margin-top: 30px;">è¿˜æœ‰ä¸€ä¸ªæƒŠå–œï¼</button>
        </div>
    </div>

    <script>
        function createFloatingHeartTexts() {
            const container = document.querySelector('.floating-heart-container');
            if (!container) return;
            
            const texts = ['â¤ åˆ˜äº¦è² â¤', 'â¤ åˆ˜äº¦è² â¤', 'â¤ åˆ˜äº¦è² â¤', 'â¤ åˆ˜äº¦è² â¤', 
                          'â¤ åˆ˜äº¦è² â¤', 'â¤ åˆ˜äº¦è² â¤', 'â¤ åˆ˜äº¦è² â¤', 'â¤ åˆ˜äº¦è² â¤',
                          'â¤ åˆ˜äº¦è² â¤', 'â¤ åˆ˜äº¦è² â¤', 'â¤ åˆ˜äº¦è² â¤', 'â¤ åˆ˜äº¦è² â¤',
                          'â¤ åˆ˜äº¦è² â¤', 'â¤ åˆ˜äº¦è² â¤', 'â¤ åˆ˜äº¦è² â¤', 'â¤ åˆ˜äº¦è² â¤'];
            
            texts.forEach((text, index) => {
                const floatingText = document.createElement('div');
                floatingText.classList.add('floating-text');
                floatingText.textContent = text;
                
                // éšæœºä½ç½®
                const startX = Math.random() * 100;
                const startY = Math.random() * 100;
                
                // éšæœºç›®æ ‡ä½ç½®
                const targetX = (Math.random() - 0.5) * 200;
                const targetY = (Math.random() - 0.5) * 200;
                
                // éšæœºæ—‹è½¬
                const rotate = (Math.random() - 0.5) * 360;
                
                // éšæœºåŠ¨ç”»æ—¶é—´
                const duration = Math.random() * 20 + 10;
                
                floatingText.style.left = `${startX}%`;
                floatingText.style.top = `${startY}%`;
                floatingText.style.setProperty('--translateX', `${targetX}%`);
                floatingText.style.setProperty('--translateY', `${targetY}%`);
                floatingText.style.setProperty('--rotate', `${rotate}deg`);
                floatingText.style.animationDuration = `${duration}s`;
                
                container.appendChild(floatingText);
            });
        }
        // åˆ›å»ºæ˜Ÿæ˜ŸèƒŒæ™¯
        function createStars() {
            const starsContainer = document.querySelector('.stars');
            const starsCount = 100;
            
            for (let i = 0; i < starsCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                // éšæœºä½ç½®
                const left = Math.random() * 100;
                const top = Math.random() * 100;
                
                // éšæœºå¤§å°
                const size = Math.random() * 3 + 1;
                
                // éšæœºåŠ¨ç”»æ—¶é—´
                const duration = Math.random() * 3 + 2;
                
                star.style.left = `${left}%`;
                star.style.top = `${top}%`;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.setProperty('--duration', `${duration}s`);
                
                starsContainer.appendChild(star);
            }
        }
        
        // åˆ›å»ºæ¼‚æµ®çš„å¿ƒå½¢
        function createHearts() {
            const container = document.querySelector('.container');
            const containerWidth = container.offsetWidth;
            const containerHeight = container.offsetHeight;
            
            for (let i = 0; i < 15; i++) {
                const heart = document.createElement('div');
                heart.classList.add('heart');
                
                // éšæœºä½ç½®
                const left = Math.random() * containerWidth;
                const top = Math.random() * containerHeight;
                
                // éšæœºå¤§å°
                const size = Math.random() * 15 + 15;
                
                // éšæœºåŠ¨ç”»å»¶è¿Ÿ
                const delay = Math.random() * 5;
                
                heart.style.left = `${left}px`;
                heart.style.top = `${top}px`;
                heart.style.width = `${size}px`;
                heart.style.height = `${size}px`;
                heart.style.animationDelay = `${delay}s`;
                
                // éšæœºå±‚çº§
                heart.style.zIndex = Math.floor(Math.random() * 3) - 1;
                
                container.appendChild(heart);
                
                // ç»™å¿ƒå½¢çš„ä¼ªå…ƒç´ ä¹Ÿè®¾ç½®ç›¸åŒçš„å¤§å°
                heart.style.setProperty('--heart-size', `${size}px`);
            }
        }
        
        // åˆ›å»ºå½©è‰²çº¸å±‘
        function createConfetti() {
            const colors = ['#ff4081', '#e91e63', '#9c27b0', '#673ab7', '#3f51b5', '#2196f3', '#03a9f4', '#00bcd4'];
            const container = document.body;
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                
                // éšæœºé¢œè‰²
                const color = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.setProperty('--color', color);
                
                // éšæœºä½ç½®
                const left = Math.random() * 100;
                confetti.style.left = `${left}vw`;
                
                // éšæœºå½¢çŠ¶
                if (Math.random() > 0.5) {
                    confetti.style.borderRadius = '50%';
                } else if (Math.random() > 0.5) {
                    confetti.style.width = '5px';
                    confetti.style.height = '15px';
                }
                
                // éšæœºä¸‹è½æ—¶é—´å’Œå»¶è¿Ÿ
                const fallDuration = Math.random() * 3 + 3;
                const fallDelay = Math.random() * 5;
                confetti.style.setProperty('--fall-duration', `${fallDuration}s`);
                confetti.style.setProperty('--fall-delay', `${fallDelay}s`);
                
                container.appendChild(confetti);
                
                // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
                confetti.addEventListener('animationend', () => {
                    confetti.remove();
                });
            }
        }
        
        // åˆ›å»ºèŠ±ç“£
        function createFlowers() {
            const container = document.body;
            const flowerCount = 20;
            
            for (let i = 0; i < flowerCount; i++) {
                const flower = document.createElement('div');
                flower.classList.add('flower');
                
                // éšæœºä½ç½®
                const left = Math.random() * 100;
                const top = Math.random() * 100;
                
                // éšæœºå¤§å°
                const size = Math.random() * 20 + 20;
                
                // éšæœºåŠ¨ç”»å»¶è¿Ÿ
                const delay = Math.random() * 5;
                
                flower.style.left = `${left}%`;
                flower.style.top = `${top}%`;
                flower.style.width = `${size}px`;
                flower.style.height = `${size}px`;
                flower.style.animationDelay = `${delay}s`;
                
                // è®¾ç½®èŠ±ç“£é¢œè‰²
                flower.style.backgroundColor = `hsl(${Math.random() * 60 + 330}, 100%, 80%)`;
                flower.style.borderRadius = '50% 0 50% 50%';
                flower.style.transform = `rotate(${Math.random() * 360}deg)`;
                
                container.appendChild(flower);
            }
        }
        
        // æ›´æ–°çˆ±æƒ…è®¡æ—¶å™¨
        function updateLoveCountdown() {
            // è®¾ç½®ä½ ä»¬ç›¸çˆ±çš„å¼€å§‹æ—¥æœŸï¼ˆæ ¼å¼ï¼šå¹´, æœˆ, æ—¥, æ—¶, åˆ†, ç§’ï¼‰
            const loveStartDate = new Date(2025, 3, 7, 9, 49, 0); // 2025å¹´4æœˆ7æ—¥9ç‚¹49åˆ†
            const now = new Date();
            
            const diff = now - loveStartDate;
            
            // è®¡ç®—å¤©æ•°ã€å°æ—¶ã€åˆ†é’Ÿå’Œç§’æ•°
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            
            // æ›´æ–°DOM
            document.getElementById('days').textContent = days;
            document.getElementById('hours').textContent = hours;
            document.getElementById('minutes').textContent = minutes;
            document.getElementById('seconds').textContent = seconds;
        }
        
        // åˆ‡æ¢çˆ±æƒ…è¯­å½•
        function rotateQuotes() {
            const quotes = document.querySelectorAll('.quote');
            let currentIndex = 0;
            
            setInterval(() => {
                quotes.forEach(quote => quote.classList.remove('active'));
                currentIndex = (currentIndex + 1) % quotes.length;
                quotes[currentIndex].classList.add('active');
            }, 5000);
        }
        
        // åˆ›å»ºå¿ƒå½¢åŠ¨ç”»
        function createHeartAnimation() {
            const container = document.querySelector('.heart-animation');
            const heartCount = 20;
            
            for (let i = 0; i < heartCount; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.classList.add('heart');
                    
                    // éšæœºä½ç½®
                    const left = Math.random() * 100;
                    
                    // éšæœºå¤§å°
                    const size = Math.random() * 20 + 10;
                    
                    heart.style.left = `${left}%`;
                    heart.style.bottom = '-50px';
                    heart.style.width = `${size}px`;
                    heart.style.height = `${size}px`;
                    
                    // éšæœºåŠ¨ç”»æ—¶é—´
                    const animationDuration = Math.random() * 3 + 3;
                    heart.style.animation = `float ${animationDuration}s ease-in-out forwards`;
                    
                    container.appendChild(heart);
                    
                    // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
                    setTimeout(() => {
                        heart.remove();
                    }, animationDuration * 1000);
                }, i * 300);
            }
        }
        
        // åˆ‡æ¢çˆ±æƒ…è¯­å½•
        function cycleQuotes() {
            const quotes = document.querySelectorAll('.quote');
            let currentIndex = 0;
            
            // æ‰¾åˆ°å½“å‰æ¿€æ´»çš„å¼•ç”¨
            quotes.forEach((quote, index) => {
                if (quote.classList.contains('active')) {
                    currentIndex = index;
                    quote.classList.remove('active');
                }
            });
            
            // æ¿€æ´»ä¸‹ä¸€ä¸ªå¼•ç”¨
            currentIndex = (currentIndex + 1) % quotes.length;
            quotes[currentIndex].classList.add('active');
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        window.addEventListener('DOMContentLoaded', () => {
            // åˆ›å»ºæ˜Ÿæ˜ŸèƒŒæ™¯
            createStars();
            
            // åˆ›å»ºå¿ƒå½¢
            createHearts();
            
            // åˆ›å»ºå¿ƒå½¢åŠ¨ç”»
            setInterval(createHeartAnimation, 5000);
            
            // æ›´æ–°çˆ±æƒ…è®¡æ—¶å™¨å¹¶æ¯ç§’æ›´æ–°ä¸€æ¬¡
            updateLoveCountdown();
            setInterval(updateLoveCountdown, 1000);
            
            // æ¯5ç§’åˆ‡æ¢ä¸€æ¬¡çˆ±æƒ…è¯­å½•
            setInterval(cycleQuotes, 5000);
            
            // æ˜¾ç¤ºå›å¿†æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            const showMemoriesBtn = document.getElementById('showMemories');
            const memories = document.getElementById('memories');
            
            showMemoriesBtn.addEventListener('click', () => {
                memories.classList.remove('hidden');
                showMemoriesBtn.classList.add('hidden');
                
                // æ»šåŠ¨åˆ°å›å¿†éƒ¨åˆ†
                memories.scrollIntoView({ behavior: 'smooth' });
            });
            
            

            // æƒŠå–œæŒ‰é’®ç‚¹å‡»äº‹ä»¶
            const surpriseBtn = document.getElementById('surprise');
            
            surpriseBtn.addEventListener('click', () => {
                createConfetti();
                
                // åˆ›å»ºæ‚¬æµ®çª—å£
                const popup = document.createElement('div');
                popup.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background-color: #fff5f7;
                    padding: 20px;
                    border-radius: 15px;
                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
                    z-index: 1000;
                    max-width: 80%;
                    animation: popupFadeIn 0.5s ease;
                `;
                
                popup.innerHTML = `
                    <div>
                        <h3 style="color: #e91e63; margin-bottom: 15px;">æˆ‘æœ€æƒ³å¯¹ä½ è¯´çš„è¯</h3>
                        <p>æ— è®ºæœªæ¥å¦‚ä½•ï¼Œæˆ‘éƒ½ä¼šä¸€ç›´é™ªåœ¨ä½ èº«è¾¹ã€‚</p>
                        <p>ä½ æ˜¯æˆ‘æœ€é‡è¦çš„äººï¼Œæˆ‘æ„¿æ„ä¸ºä½ ä»˜å‡ºä¸€åˆ‡ã€‚</p>
                        <p>æˆ‘çˆ±ä½ ï¼Œä¸ä»…ä»…æ˜¯ä»Šå¤©ï¼Œè€Œæ˜¯æ¯ä¸€å¤©ã€‚</p>
                        <p style="margin-top: 15px; font-size: 1.5rem; color: #e91e63;">â¤ï¸ 520å¿«ä¹ â¤ï¸</p>
                        <button class="btn" style="margin-top: 15px; font-size: 0.9rem; padding: 8px 20px;" onclick="this.parentNode.parentNode.remove()">å…³é—­</button>
                    </div>
                `;
                
                // æ·»åŠ å¼¹çª—åŠ¨ç”»æ ·å¼
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes popupFadeIn {
                        from {
                            opacity: 0;
                            transform: translate(-50%, -60%);
                        }
                        to {
                            opacity: 1;
                            transform: translate(-50%, -50%);
                        }
                    }
                `;
                document.head.appendChild(style);
                
                // æ·»åŠ åˆ°body
                document.body.appendChild(popup);
                
                // ä¿®æ”¹æŒ‰é’®æ–‡æœ¬
                surpriseBtn.textContent = 'çˆ±ä½ æ¯ä¸€å¤©';
                
                // ç§»é™¤åŸæ¥çš„äº‹ä»¶ç›‘å¬å™¨å¹¶æ·»åŠ æ–°çš„
                surpriseBtn.removeEventListener('click', arguments.callee);
                surpriseBtn.addEventListener('click', () => {
                    // åˆ›å»ºæ–°çš„å½©è‰²çº¸å±‘
                    createConfetti();
                    
                    // åˆ›å»ºæ–°çš„æ‚¬æµ®çª—å£
                    const newPopup = document.createElement('div');
                    newPopup.style.cssText = `
                        position: fixed;
                        top: 50%;
                        left: 50%;
                        transform: translate(-50%, -50%);
                        background-color: #fff5f7;
                        padding: 20px;
                        border-radius: 15px;
                        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
                        z-index: 1000;
                        max-width: 80%;
                        animation: popupFadeIn 0.5s ease;
                    `;
                    
                    newPopup.innerHTML = `
                        <div>
                            <h3 style="color: #e91e63; margin-bottom: 15px;">æˆ‘çš„æœªæ¥æ„¿æœ›</h3>
                            <p>å¸Œæœ›èƒ½å’Œä½ ä¸€èµ·èµ°è¿‡äººç”Ÿçš„æ¯ä¸€ä¸ªé˜¶æ®µ</p>
                            <p>å¸Œæœ›èƒ½å’Œä½ ä¸€èµ·åˆ›é€ æ— æ•°ç¾å¥½çš„å›å¿†</p>
                            <p>å¸Œæœ›èƒ½å’Œä½ ä¸€èµ·çœ‹éä¸–ç•Œçš„ç¾æ™¯</p>
                            <p>å¸Œæœ›èƒ½å’Œä½ ä¸€èµ·æ…¢æ…¢å˜è€</p>
                            <p>å¸Œæœ›ä½ æ¯å¤©éƒ½èƒ½å¼€å¿ƒå¿«ä¹</p>
                            <p style="margin-top: 15px; font-size: 1.5rem; color: #e91e63;">â¤ï¸ æˆ‘çˆ±ä½  â¤ï¸</p>
                            <button class="btn" style="margin-top: 15px; font-size: 0.9rem; padding: 8px 20px;" onclick="this.parentNode.parentNode.remove()">å…³é—­</button>
                        </div>
                    `;
                    
                    // æ·»åŠ åˆ°body
                    document.body.appendChild(newPopup);
                });
            });
        });
    </script>
</body>
</html>
